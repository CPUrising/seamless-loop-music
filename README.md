# 🎵 Seamless Loop Music Player (无缝循环音乐播放器)

> **专为游戏音乐而生。**
> 这是一个轻量级的 Windows 本地音乐播放器，旨在解决游戏 BGM、环境音效在普通播放器中无法实现“真·无缝循环”的痛点。

**中文** | [English](README_EN.md)

---

## ✨ 核心亮点

* **♾️ 真·无缝循环**：基于 `IWaveProvider` 的底层流式处理，实现采样级（Sample-Accurate）的无缝拼接，告别循环时的“咔哒”声或短暂静音。
* **📂 批量管理**：支持**文件夹导入**，自动递归扫描子目录，一键生成播放列表。
* **💾 配置记忆**：自动记录每首歌曲的循环点设置（基于文件名+时长的双重指纹），下次播放自动加载，无需重复输入。
* **🎯 任意区间循环**：支持自定义**循环起始点 (Start)** 和 **循环结束点 (End)**，并提供 **“确认设置”** 按钮实现参数的热更新。
* **📊 可视化控制**：直观的进度条、实时时间显示与切歌控制（上一首/下一首）。
* **🚀 轻量高效**：基于 .NET 8 开发，提供独立发行版。

---

## 🎮 使用场景

* **游戏开发/测试**：快速验证海量音频素材的循环点设置。
* **游戏原声鉴赏**：沉浸式欣赏 BGM，自动记忆您最爱的循环片段。
* **环境音效播放**：建立白噪音播放列表，无缝循环助眠。

---

## 🛠️ 使用指南

1. **导入音乐**：
   * 点击 **“导入音乐文件夹”**，选择包含音频的目录。
   * 软件会自动扫描并填充右侧播放列表。
2. **播放控制**：
   * 双击列表中的歌曲进行播放。
   * 使用下方 **[<< 上一首]** / **[下一首 >>]** 按钮切歌。
3. **设置循环点**：
   * 输入 **循环起始/结束采样数**。
   * 输入框变动后，**“确认设置”** 按钮会变亮。
   * 点击 **“确认设置”**（或直接点击播放），新参数即刻生效并自动保存。
4. **调节音量**：拖动下方滑块控制音量。

---

## 🏗️ 技术栈

* **平台**：Windows (WinForms)
* **框架**：.NET 8.0
* **核心库**：[NAudio](https://github.com/naudio/NAudio)

---

## 📅 开发路线图 (Roadmap)

我们正在持续改进体验，以下是 planned features：

### 🔹 已完成功能 (Completed)

- [X] **核心播放**：播放/暂停/停止、无缝循环流
- [X] **区间循环**：自定义 Loop Start/End，支持热更新
- [X] **批量管理**：文件夹递归导入、播放列表、切歌导航
- [X] **配置记忆**：CSV 存储、双重指纹识别、自动加载
- [X] **交互优化**：确认设置按钮、进度条拖拽、UI 布局扩展

### 🔹 计划中 (Planned)

- [ ] **微调模式**：提供 +/- 1帧的微调按钮，不仅是输入数字
- [ ] **波形图显示**：可视化辅助寻找循环点
- [ ] **Metadata 读取**：自动识别 wav/ogg 文件头中的 loop 标签

---

## 🤝 致谢 (Acknowledgements)

本项目受到了 [AokanaMusicPlayer](https://github.com/melodicule/AokanaMusicPlayer) 的启发，特别是在无缝循环流的实现逻辑上。

## 📄 License

Microsoft Public License (Ms-PL).
本项目包含部分源自 AokanaMusicPlayer 的代码逻辑，遵循其原有的 Ms-PL 协议。
