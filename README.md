# 🎵 Seamless Loop Music Player (无缝循环音乐播放器)

> **专为游戏音乐而生。**
> 这是一个轻量级的 Windows 本地音乐播放器，旨在解决游戏 BGM、环境音效在普通播放器中无法实现“真·无缝循环”的痛点。

**中文** | [English](README_EN.md)

---

## ✨ 核心亮点

* **♾️ 真·无缝循环**：基于 `IWaveProvider` 的底层流式处理，实现采样级（Sample-Accurate）的无缝拼接，告别循环时的“咔哒”声或短暂静音。
* **🎯 任意区间循环**：支持自定义**循环起始点 (Start)** 和 **循环结束点 (End)**，精确到每一个采样帧，可实现基于特定段落的无限循环。
* **📊 可视化控制**：提供直观的进度条，支持拖拽跳转、点击跳转，并实时显示精准的播放时间。
* **📂 多格式支持**：支持 **WAV**、**OGG**、**MP3** 等常见游戏音频格式。
* **🚀 轻量高效**：基于 .NET 8 开发，无需安装庞大的运行库（提供独立发行版），即开即用。

---

## 🎮 使用场景

* **游戏开发/测试**：快速验证音频素材的循环点设置是否完美。
* **游戏原声鉴赏**：沉浸式欣赏那些设计了 Loop 结构的游戏 BGM（如 RPG 城镇曲、战斗曲），不再被进度条打断情绪。
* **环境音效播放**：用于跑团、冥想或工作背景音，无限循环雨声、白噪音等。

---

## 🛠️ 使用指南

1. **打开软件**：运行 `seamless loop music.exe`。
2. **导入音乐**：点击 **“选择音频文件”** 按钮，选择您的音频文件。
3. **设置循环点**：
   * 软件会自动识别文件总采样数并填入。
   * **循环起始采样数**：音乐播放到结束点后，会跳回到这里（默认为 0）。
   * **循环结束采样数**：音乐播放到这里时，会触发跳转（默认为文件总长度）。
   * *只需修改这两个数值，即可定义任意循环区间。*
4. **播放控制**：
   * 点击 **“播放”** 开始循环。
   * 支持 **“暂停”** / **“继续”**。
   * 拖动进度条可快速定位。
5. **调节音量**：拖动下方滑块控制音量。

---

## 🏗️ 技术栈

* **平台**：Windows (WinForms)
* **框架**：.NET 8.0
* **核心库**：[NAudio](https://github.com/naudio/NAudio) (处理底层音频流)

---

## 📅 开发路线图 (Roadmap)

我们正在持续改进体验，以下是 planned features：

### 🔹 已完成功能 (Completed)

- [x] **基础播放控制**：播放、暂停、停止、音量调节
- [x] **无缝循环核心**：基于 IWaveProvider 的循环流
- [x] **区间循环**：支持自定义 Loop Start 和 Loop End
- [x] **可视化进度**：进度条显示、拖拽跳转、时间显示
- [x] **UI 优化**：美观的布局与控件间距调整
- [x] **信息显示**：实时显示采样率与总采样数
- [x] **自动填充**：加载音频时自动设置默认循环范围

### 🔹 计划中 (Planned)

- [ ] **循环点记忆**：自动保存并加载上次设置的循环点
- [ ] **微调模式**：提供 +/- 1帧的微调按钮，不仅是输入数字
- [ ] **播放列表**：拖入多个文件管理
- [ ] **波形图显示**：可视化辅助寻找循环点
- [ ] **Metadata 读取**：自动识别 wav/ogg 文件头中的 loop 标签

### 🔹 高级特性

- [ ] **播放列表**：拖入多个文件管理
- [ ] **波形图显示**：可视化辅助寻找循环点
- [ ] **Metadata 读取**：自动识别 wav/ogg 文件头中的 loop 标签

---

## 🤝 致谢 (Acknowledgements)

本项目受到了 [AokanaMusicPlayer](https://github.com/melodicule/AokanaMusicPlayer) 的启发，特别是在无缝循环流的实现逻辑上。

## 📄 License

Microsoft Public License (Ms-PL).
本项目包含部分源自 AokanaMusicPlayer 的代码逻辑，遵循其原有的 Ms-PL 协议。
