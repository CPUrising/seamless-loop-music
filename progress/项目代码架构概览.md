# Seamless Loop Music é¡¹ç›®ä»£ç æž¶æž„æ¦‚è§ˆ

---
**ç¼–å†™è€…**: èŽ±èŠ™ãƒ»æ³½è¯º (Lev Zenith)
**æ—¥æœŸ**: 2026-02-15
**çŠ¶æ€**: æ ¸å¿ƒæž¶æž„å·²è¶‹äºŽæˆç†Ÿï¼Œç›®å‰ä¸“æ³¨äºŽ PyMusicLooper é›†æˆä¼˜åŒ–ä¸Žå¤šè¯­è¨€æ”¯æŒã€‚

---

## 1. æ ¸å¿ƒå®šä½
æœ¬é¡¹æ˜¯ä¸€ä¸ªåŸºäºŽ **.NET Core (WPF)** å¼€å‘çš„é«˜ä¿çœŸéŸ³ä¹æ’­æ”¾å™¨ï¼Œæ ¸å¿ƒç‰¹è‰²æ˜¯æ”¯æŒ**æ— ç¼å¾ªçŽ¯ (Seamless Looping)**ï¼Œå¹¶é›†æˆäº† **PyMusicLooper** åº“è¿›è¡Œè‡ªåŠ¨åŒ–éŸ³é¢‘å¾ªçŽ¯ç‚¹åˆ†æžã€‚

## 2. æ¨¡å—åŒ–è®¾è®¡

### ðŸ“‚ Core (æ ¸å¿ƒå¼•æ“Žå±‚)
è¿™æ˜¯é¡¹ç›®çš„â€œå¿ƒè„â€ï¼Œè´Ÿè´£æœ€åº•å±‚çš„å£°éŸ³å¤„ç†ã€‚
- `AudioLooper.cs`: æ ¸å¿ƒæŽ§åˆ¶ä¸­å¿ƒï¼Œå¤„ç†æ’­æ”¾çŠ¶æ€ï¼ˆPlay/Pause/Stopï¼‰ä»¥åŠç²¾ç»†çš„é‡‡æ ·è·³è½¬é€»è¾‘ã€‚
- `LoopStream.cs`: è‡ªå®šä¹‰çš„éŸ³é¢‘æµåŒ…è£…ç±»ï¼Œç¡®ä¿åœ¨åˆ°è¾¾å¾ªçŽ¯ç»ˆç‚¹æ—¶èƒ½å®žçŽ°æ¯«ç§’çº§çš„æ— æ„Ÿè·³è½¬ã€‚

### ðŸ“‚ Services (ä¸šåŠ¡é€»è¾‘å±‚)
é¡¹ç›®çš„â€œå‚è°‹éƒ¨â€ï¼Œå¤„ç†å„ç§å¤æ‚çš„é€»è¾‘è¿ç®—ã€‚
- `PlayerService.cs`: é¡¶å±‚ä¸šåŠ¡ç®¡ç†å™¨ï¼Œåè°ƒ UIã€éŸ³é¢‘å¼•æ“Žå’Œæ•°æ®åº“ã€‚
- `PlaylistManagerService.cs`: è´Ÿè´£ç®¡ç†è™šæ‹Ÿæ’­æ”¾åˆ—è¡¨ã€æ‹–æ‹½æŽ’åºä»¥åŠæ­Œæ›²çš„é€»è¾‘å¢žåˆ ã€‚
- `PyMusicLooperWrapper.cs`: ä¸Ž Python åº“é€šä¿¡çš„æ¡¥æ¢ï¼Œè´Ÿè´£è°ƒç”¨ `pymusiclooper` è¿›è¡Œå¾ªçŽ¯ç‚¹ç‚¹è®¡ç®—ã€‚
- `LoopAnalysisService.cs`: è‡ªåŠ¨åŒ–åˆ†æžé€»è¾‘ï¼Œå¤„ç†åŽå°æ‰«æå’Œå€™é€‰ç‚¹èŽ·å–ã€‚
- `LocalizationService.cs`: å…¨çƒåŒ–æ”¯æŒï¼ŒåŠ¨æ€åˆ‡æ¢ä¸­è‹±æ–‡ç•Œé¢ã€‚
- `TrackMetadataService.cs`: å¤„ç†éŸ³é¢‘æ–‡ä»¶çš„å…ƒæ•°æ®æå–ã€‚

### ðŸ“‚ Data (æŒä¹…åŒ–å±‚)
é¡¹ç›®çš„â€œæ¡£æ¡ˆå®¤â€ï¼Œç¡®ä¿å­˜æ¡£æ•°æ®ä¸ä¸¢å¤±ã€‚
- `DatabaseHelper.cs`: å°è£…äº† SQLite çš„æ‰€æœ‰æ“ä½œã€‚åŒ…æ‹¬ `MusicTracks` è¡¨ï¼ˆå­˜å‚¨å¾ªçŽ¯å‚æ•°ï¼‰å’Œ `Playlists` è¡¨ï¼ˆå­˜å‚¨æ’­æ”¾åˆ—è¡¨ç»“æž„ï¼‰ã€‚

### ðŸ“‚ Models (æ•°æ®æ¨¡åž‹å±‚)
é¡¹ç›®çš„â€œé›¶ä»¶åŒ…â€ï¼Œå®šä¹‰äº†ç¨‹åºä¸­æµè½¬çš„æ•°æ®ç»“æž„ã€‚
- `MusicTrack.cs`: ä»£è¡¨ä¸€é¦–æ­Œæ›²ï¼ŒåŒ…å«é‡‡æ ·çŽ‡ã€å¼€å§‹/ç»“æŸå¾ªçŽ¯ç‚¹ç­‰æ ¸å¿ƒæ•°æ®ä¿¡æ¯ã€‚
- `PlaylistFolder.cs`: ä»£è¡¨ä¸€ä¸ªæ’­æ”¾åˆ—è¡¨ã€‚
- `LoopCandidate.cs`: å­˜å‚¨åˆ†æžå‡ºæ¥çš„æ½œåœ¨å¾ªçŽ¯ç‚¹æ•°æ®ã€‚

### ðŸ“‚ UI (å±•ç¤ºå±‚)
é¡¹ç›®çš„â€œé—¨é¢â€ï¼Œè´Ÿè´£ä¸Ž **cpu å¤§äºº** äº’åŠ¨ã€‚
- `MainWindow.xaml`: ä¸»æŽ§åˆ¶ä¸­å¿ƒã€‚
- `LoopListWindow.xaml`: ä¸“é—¨ç”¨äºŽæ˜¾ç¤ºå’Œé€‰æ‹©åˆ†æžå‡ºæ¥çš„å¤šä¸ªå¾ªçŽ¯ç‚¹æ–¹æ¡ˆã€‚
- `FolderManagerWindow.xaml`: ç®¡ç†è¢«æ‰«æçš„éŸ³ä¹æ–‡ä»¶å¤¹ã€‚
- `App.xaml`: å®šä¹‰å…¨å±€æ ·å¼ï¼ˆå¦‚èŽ±èŠ™ä¸ºæ‚¨å‡†å¤‡çš„ç²¾è‡´æš—è‰²çš®è‚¤ï¼‰ã€‚

## 3. é¡¹ç›®èµ„äº§ä¸Žèµ„æº
- `Properties/Resources.resx`: å­˜å‚¨å¤šè¯­è¨€æ–‡æœ¬ã€‚
- `.venv`: ç‹¬ç«‹çš„ Python è¿è¡ŒçŽ¯å¢ƒï¼ˆç”¨äºŽ PyMusicLooperï¼‰ã€‚
- `progress/`: æ­¤ç›®å½•è®°å½•äº†æˆ‘ä»¬æ‰€æœ‰çš„å¼€å‘è¿›åº¦å’Œè·¯çº¿å›¾ã€‚

---
èŽ±èŠ™ä¼šç»§ç»­åŠªåŠ›ç»´æŠ¤å¥½è¿™ä¸ªç»“æž„ï¼Œç¡®ä¿å®ƒèƒ½å§‹ç»ˆå¦‚ä¸€åœ°ä¸º **cpu å¤§äºº** æä¾›æµç•…çš„ä½¿ç”¨ä½“éªŒï¼(à¹‘>â—¡<à¹‘)
